
CREATE TABLE cordenada
    ( cordenada_id INTEGER PRIMARY KEY AUTOINCREMENT,
      latitud VARCHAR(50),
      longitud VARCHAR(50)
      );
CREATE TABLE provincia
    ( provincia_id INTEGER PRIMARY KEY AUTOINCREMENT,
      provincia_nombre VARCHAR(50),
      provincia_status VARCHAR(50)
      );

CREATE TABLE canton
    ( canton_id INTEGER PRIMARY KEY AUTOINCREMENT,
      canton_nombre VARCHAR(50),
      canton_status VARCHAR(50),
      provincia_id INTERGER NOT NULL,
      CONSTRAINT fk_pronvincia
      FOREIGN KEY (provincia_id) REFERENCES provincia(provincia_id)
      );

CREATE INDEX IFK_canton_provincia_id ON canton ( provincia_id );

CREATE TABLE parroquia
    ( parroquia_id INTEGER PRIMARY KEY AUTOINCREMENT,
      parroquia_nombre VARCHAR(50),
      parroquia_status VARCHAR(50),
      provincia_id INTERGER NOT NULL,
      canton_id INTEGER NOT NULL,
      CONSTRAINT fk_canton
      FOREIGN KEY (provincia_id) REFERENCES provincia(provincia_id),
      FOREIGN KEY (canton_id) REFERENCES canton(canton_id)
      );

CREATE INDEX IFK_parroquia_canton_id ON parroquia ( canton_id );

CREATE TABLE ciudad
    ( ciudad_id INTEGER PRIMARY KEY AUTOINCREMENT,
      ciudad_nombre VARCHAR(50),
      ciudad_status VARCHAR(50),
      provincia_id INTERGER NOT NULL,
      canton_id INTEGER NOT NULL,
	parroquia_id INTERGER NOT NULL,
      CONSTRAINT fk_parroquia
      FOREIGN KEY (provincia_id) REFERENCES provincia(provincia_id),
      FOREIGN KEY (canton_id) REFERENCES canton(canton_id),
      FOREIGN KEY (parroquia_id) REFERENCES parroquia (parroquia_id)
      );

CREATE INDEX IFK_ciudad_parroquia_id ON ciudad ( parroquia_id );

CREATE TABLE barrio
    ( barrio_id INTEGER PRIMARY KEY AUTOINCREMENT,
      barrio_nombre VARCHAR(50),
      barrio_status VARCHAR(50),
      provincia_id INTERGER NOT NULL,
      canton_id INTEGER NOT NULL,
	parroquia_id INTERGER NOT NULL,
	ciudad_id INTERGER NOT NULL,
      CONSTRAINT fk_ciudad
      FOREIGN KEY (provincia_id) REFERENCES provincia(provincia_id),
      FOREIGN KEY (canton_id) REFERENCES canton(canton_id),
      FOREIGN KEY (parroquia_id) REFERENCES parroquia (parroquia_id),
	FOREIGN KEY (ciudad_id) REFERENCES ciudad (ciudad_id)
      );

CREATE INDEX IFK_barrio_ciudad_id ON barrio ( ciudad_id );

CREATE TABLE delincuentes(
	delincuente_id INTEGER   PRIMARY KEY AUTOINCREMENT,
	delincuente_genero	 TEXT	 NOT NULL,
	provincia_id 	 INTERGER NOT NULL,
	canton_id 	 INTEGER NOT NULL,
	ciudad_id 	 INTERGER NOT NULL,
	FOREIGN KEY (provincia_id) REFERENCES provincia(provincia_id),
        FOREIGN KEY (canton_id) REFERENCES canton(canton_id),
	FOREIGN KEY (ciudad_id) REFERENCES ciudad (ciudad_id)
);

CREATE INDEX IFK_delincuentes_barrio_id ON delincuentes (delincuente_id);

CREATE TABLE personas_civiles(
	civil_id         INTEGER PRIMARY KEY AUTOINCREMENT,
	civil_nombre  	 TEXT	 NOT NULL,
	civil_genero     TEXT	 NOT NULL,
	civil_estatus	 VARCHAR(50),
	barrio_id	 INTEGER NOT NULL,
	CONSTRAINT fk_barrio
	FOREIGN KEY (barrio_id) REFERENCES barrio(barrio_id)
);

CREATE INDEX IFK_personas_civiles_barrio_id ON personas_civiles ( civil_id );


CREATE TABLE incidente(
	incidente_id     INTEGER PRIMARY KEY AUTOINCREMENT,
	incidente_tipo   TEXT	 NOT NULL,
	civil_id	 INTEGER NOT NULL,
	CONSTRAINT fk_personas_civiles,
	FOREIGN KEY (civil_id) REFERENCES personas_civiles (civil_id)
);

CREATE INDEX IFK_incidente_civil_id ON incidente (incidente_id);
